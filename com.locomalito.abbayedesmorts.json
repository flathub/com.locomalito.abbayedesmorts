{
  "app-id": "com.locomalito.abbayedesmorts",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "24.08",
  "sdk": "org.freedesktop.Sdk",
  "command": "abbayev2",
  "rename-desktop-file": "abbayev2.desktop",
  "finish-args": [
    "--device=dri",
    "--share=ipc",
    "--socket=pulseaudio",
    "--socket=wayland",
    "--socket=fallback-x11"
  ],
  "modules": [
    {
      "name": "abbayedesmorts",
      "buildsystem": "simple",
      "build-commands": [
        "make PREFIX=${FLATPAK_DEST}",
        "make install PREFIX=${FLATPAK_DEST}",
        "install -Dm0644 ${FLATPAK_DEST}/share/pixmaps/abbaye.png ${FLATPAK_DEST}/share/icons/hicolor/48x48/apps/${FLATPAK_ID}.png"
      ],
      "post-install": [
        "install -Dm0644 ${FLATPAK_ID}.metainfo.xml ${FLATPAK_DEST}/share/metainfo/${FLATPAK_ID}.metainfo.xml",
        "install -Dm0644 abbaye.svg ${FLATPAK_DEST}/share/icons/hicolor/scalable/apps/${FLATPAK_ID}.svg"
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/nevat/abbayedesmorts-gpl.git",
          "tag": "v2.0.4",
          "commit": "f1b70474fbc5f343e2196d1f85a79991a4a313d0",
          "x-checker-data:": {
            "is-main-source": "true",
            "type": "git",
            "tag-pattern": "^v([\\d.]+)$"
          }
        },
        {
          "type": "file",
          "path": "com.locomalito.abbayedesmorts.metainfo.xml"
        },
        {
          "type": "file",
          "path": "abbaye.svg"
        }
      ],
      "cleanup": [
        "/share/appdata"
      ]
    }
  ]
}
